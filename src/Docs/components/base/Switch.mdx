import { Meta, Story, Canvas } from "@storybook/blocks";
import { Switch } from "../../../Base/Switch";
import { AppActivity } from "../../../App/AppActivity";
import { Text } from "../../../Base/Text";

<Meta title="Components/Base/Switch" component={Switch} />

# Switch

A toggle switch component that provides a binary choice with support for different sizes and colors.

## Basic Usage

<Canvas>
  <Story name="Basic">
    <AppActivity>
      <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
        <Switch>Default Switch</Switch>
        <Switch checked>Checked Switch</Switch>
        <Switch disabled>Disabled Switch</Switch>
      </div>
    </AppActivity>
  </Story>
</Canvas>

## Color Variants

<Canvas>
  <Story name="Colors">
    <AppActivity>
      <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
        <Switch color="Default">
          <Text size={9}>Default</Text>
        </Switch>
        <Switch color="Primary">
          <Text size={9}>Primary</Text>
        </Switch>
        <Switch color="Success">
          <Text size={9}>Success</Text>
        </Switch>
        <Switch color="Warning">
          <Text size={9}>Warning</Text>
        </Switch>
        <Switch color="Alert">
          <Text size={9}>Alert</Text>
        </Switch>
      </div>
    </AppActivity>
  </Story>
</Canvas>

## Sizes

<Canvas>
  <Story name="Sizes">
    <AppActivity>
      <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
        <Switch size="Small">Small Switch</Switch>
        <Switch size="Medium">Medium Switch</Switch>
        <Switch size="Large">Large Switch</Switch>
      </div>
    </AppActivity>
  </Story>
</Canvas>

## API Reference

### Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `checked` | `boolean` | `false` | Controlled checked state |
| `onChange` | `(checked: boolean) => void` | - | Change handler |
| `disabled` | `boolean` | `false` | Disables the switch |
| `size` | `"Small" \| "Medium" \| "Large"` | `"Medium"` | Switch size |
| `color` | `"Default" \| "Primary" \| "Success" \| "Warning" \| "Alert"` | `"Default"` | Color variant |
| `children` | `ReactNode` | - | Label content |

### CSS API

The Switch component uses the following theme tokens:

```typescript
interface SwitchTokens {
  backgroundColor: string;
  checkedBackgroundColor: string;
  thumbColor: string;
  borderRadius: string;
  sizes: {
    Small: SwitchSize;
    Medium: SwitchSize;
    Large: SwitchSize;
  };
}

interface SwitchSize {
  width: string;
  height: string;
  thumbSize: string;
}
```

## Accessibility

The Switch component follows WAI-ARIA guidelines:

```tsx live
<AppActivity>
  <Switch
    aria-label="Enable notifications"
    role="switch"
    aria-checked={true}
  >
    Enable notifications
  </Switch>
</AppActivity>
```

## Best Practices

### Do's
- Use clear, concise labels
- Use appropriate colors for context
- Maintain consistent sizing
- Provide immediate visual feedback

### Don'ts
- Don't use for complex choices
- Avoid using without labels
- Don't use for actions that need confirmation
- Avoid using when a checkbox is more appropriate

## Examples

### Controlled Switch

```tsx live
function ControlledSwitchExample() {
  const [checked, setChecked] = React.useState(false);

  return (
    <AppActivity>
      <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
        <Switch
          checked={checked}
          onChange={setChecked}
          color="Primary"
        >
          {checked ? 'On' : 'Off'}
        </Switch>
        <Text size={9}>Current state: {checked ? 'On' : 'Off'}</Text>
      </div>
    </AppActivity>
  );
}
```

### With Description

```tsx live
<AppActivity>
  <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
    <Switch color="Primary">Dark Mode</Switch>
    <Text size={9} style={{ marginLeft: '36px', color: 'gray' }}>
      Enable dark mode for a better viewing experience at night
    </Text>
  </div>
</AppActivity>
```

### Settings Group

```tsx live
<AppActivity>
  <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
    <Text size={14} weight="bold">Notification Settings</Text>
    <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>
      <Switch color="Primary">Email notifications</Switch>
      <Switch color="Primary">Push notifications</Switch>
      <Switch color="Primary">Sound alerts</Switch>
    </div>
  </div>
</AppActivity>
``` 